<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="favbook.js" defer></script>
    <link rel="stylesheet" href="../src/output.css">
    <script>
        const bookName=document.getElementById("bookName");
const bookDescription=document.getElementById("bookDescription");
const imgUrl=document.getElementById("imgUrl");
const addBtn=document.getElementById("addBtn");
 
const bookList = [];
addBtn.addEventListener("click",addBook);
function addBook(){
    if(bookName.value !=="" && bookDescription.value !=="" && imgUrl.value !=="" ){
    let book ={
        name:bookName.value,
        description:bookDescription.value,
        imgUrl:imgUrl.value,
    }
    bookList.push(book);
    showList();
    bookName.value ="";
    bookDescription.value ="";
    imgUrl.value ="";
    const success= document.getElementById("success");
    success.classList.remove("hidden");
    setTimeout(()=>{
        success.classList.add("hidden");
    },3000);
}else{
   const warning = document.getElementById("warning");
   warning.classList.remove("hidden");
   setTimeout(()=>{
    warning.classList.add("hidden");
   },3000);
}
}
function showList(){
   const bookDiv= document.getElementById("bookList");
   bookDiv.innerHTML ="";
   bookList.forEach((book)=>{
    const div =document.createElement ("div");
    div.classList.add("bookDiv");
    const image =document.createElement("img");
    image.setAttribute("src",book.imgUrl)
    image.classList.add("img");
    const h1 =document.createElement("h1");
    h1.textContent=book.name;
    const p = document.createElement("p");
    p.textContent = book.description;


    div.append(image);
    div.append(h1);
    div.append(p);
    bookDiv.appendChild(div);

   })
}
const listOfMovies =["من روبات نیستم",
    " آقای ملک",
    "دو باره هجده سالگی",
    "زیبای حققی",
    "روباهی نوه دم",
    "زخم کاری",
];
const movieDiv = document.getElementById("movieDiv");

listOfMovies.forEach((movie,index,movies)=>{
    movies[index] = "سریال "+movie;
});


let numbers = [1,2,3,4,5,6];
let evenNumber= numbers.filter((number)=> {
   return number%2 ==0
});
let oddNumber = numbers.filter((item)=>{
    return item%2 !==0;
})
const searchText=document.getElementById("searchText");
const searchBtn = document.getElementById("searchBtn");
searchBtn.addEventListener("click",()=>{
    movieDiv.innerHTML="";
    const fillteredMovie= listOfMovies.filter((movie)=>{
     return movie.includes(searchText.value);
    })
    for(let movie of fillteredMovie){
       const h1 =  document.createElement("h1");
       h1.textContent = movie;
       movieDiv.append(h1);
    }
})

    </script>
</head>
<body class="bg-gray-200">
    <div class="w-[80%] flex flex-col mx-auto my-4 bg-white p-4 rounded-3xl">
        <label class="text-center text-3xl pb-3.5" for="">Search a movie</label>
        <input id="searchText"
        class="p-4 border text-center rounded-2xl" type="Search" placeholder="search a movie">
        <button id="searchBtn"
        class="bg-red-400 text-white p-4 w-fit rounded-2xl text-center mx-auto hover:cursor-pointer my-3">Search</button>
        </div>
        <div id="movieDiv"
         class="w-[80%] mx-auto my-4 bg-white p-4 rounded-3xl">
        </div>
   <div class="bg-gray-200 h-screen overflow-y-scroll ">
    <div class="bg-white w-[80%] mx-auto my-5 rounded-sm shadow-2xs flex space-x-3 flex-col justify-center items-center">
        <h1 class="text-center font-blod text-xl my-3">یک کتاب علاوه کن</h1> 
    <div>
        <input class="py-2 px-4 text-gray-400 border my-3 focus:outline-0 "
         type="text" placeholder="لطفا نام کتاب را وارد نمایید" 
        id="bookName">
        <input class=" py-2 px-4 text-gray-400 border my-3 focus:outline-0" 
         type="text" placeholder="لطفا در باره کتاب توضیحات دهید"
         id="bookDescription">
    </div>
        <input class="text-center py-3 px-4 text-gray-400 border w-full my-3 focus:outline-0 "
        type="text" placeholder="یک لینک تصویر از کتاب علاوه نمایید" id="imgUrl" >
        <button id="addBtn" class="py-3 px-4 bg-green-400 text-center text-black rounded-sm">اضافه کردن</button>
   </div>
   <div id="bookList"
    class="w-[60%] mx-auto my-3 bg-white rounded-sm shadow-2xs flex justify-evenly flex-wrap  ">
   
   </div> 
   <div id="warning"
    class="p-4 absolute top-1.5 right-1.5  hidden bg-red-500 text-black text-center">
    <h1>لطفا فورم را پور نموده و دوباره تلاش نمایید</h1>
   </div>
   <div id="success"
    class="p-4 absolute top-1.5 right-1.5  hidden bg-green-500 text-black text-center">
    <h1>
        یک کتاب موفقانه اضافه شد
    </h1>
   </div>
</div>

</body>
</html>